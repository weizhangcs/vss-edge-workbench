<View style="display: flex; column-gap: 25px; height: 100vh; overflow: hidden;">

  <View style="flex: 65%; overflow-y: auto; padding-right: 10px;">

    <Video name="video_player" value="$video_url" sync="audio_timeline" />

    <Audio name="audio_timeline" value="$video_url" />

    <View style="margin-top: 15px; padding: 15px; background: #fff; border: 1px solid #eee; border-radius: 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
        <Header value="æ ‡æ³¨å·¥å…· (è¯·åœ¨ä¸Šæ–¹æ³¢å½¢å›¾ä¸Šæ“ä½œ)" size="6" style="margin-bottom: 10px; color: #007bff; font-weight: bold;"/>

        <Labels name="region_type" toName="audio_timeline">
          <Label value="åœºæ™¯/Scene" background="#007bff"/>
          <Label value="é«˜å…‰/Highlight" background="#28a745"/>
          <Label value="å™äº‹çº¿ç´¢/NARRATIVE_CUE" background="#ffc107"/>
        </Labels>
    </View>

  </View>

  <View style="flex: 35%; height: 100%; overflow-y: auto; padding: 15px; background: #f0f2f5; border-left: 1px solid #ccc;">

    <View visibleWhen="no-region-selected" style="padding: 40px 20px; text-align: center; color: #999;">
        <Text name="instruction" value="ðŸ‘ˆ è¯·åœ¨å·¦ä¾§ã€éŸ³é¢‘æ³¢å½¢ã€‘ä¸Šåˆ›å»ºç‰‡æ®µä»¥å¼€å§‹å¡«å†™ä¿¡æ¯ã€‚"/>
    </View>

    <View visibleWhen="region-selected" whenLabelValue="åœºæ™¯/Scene" style="background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px;">

      <Header value="ðŸŽ¬ åœºæ™¯æ ‡æ³¨ (SCENE)" style="margin-top: 0; color: #007bff; border-bottom: 2px solid #007bff; padding-bottom: 10px; margin-bottom: 20px; font-size: 18px;"/>

      <View style="display: flex; gap: 15px; margin-bottom: 15px;">
        <View style="flex: 1; min-width: 80px;">
          <Header value="åœºæ™¯ID" style="font-size: 12px; margin-bottom: 5px; color: #666;"/>
          <Number name="scene_id" toName="audio_timeline" perRegion="true" min="1"/>
        </View>
        <View style="flex: 3;">
          <Header value="åœ°ç‚¹" style="font-size: 12px; margin-bottom: 5px; color: #666;"/>
          <TextArea name="scene_location" toName="audio_timeline" perRegion="true" maxSubmissions="1" placeholder="ä¾‹å¦‚ï¼šåœ¨ä¸€åº§å¤§åŽ¦å‰" rows="1"/>
        </View>
      </View>

      <Header value="æƒ…èŠ‚æè¿°" style="font-size: 13px; margin-top: 20px; margin-bottom: 8px; font-weight: bold; color: #333;"/>
      <TextArea name="scene_character_dynamics" toName="audio_timeline" perRegion="true" rows="3" maxSubmissions="1" showSubmitButton="false" placeholder="äººç‰©å…³ç³»ã€è¡Œä¸ºã€ç›®æ ‡..."/>

      <Header value="åœºæ™¯å†…å®¹ç±»åž‹" style="font-size: 13px; margin-top: 20px; margin-bottom: 8px; font-weight: bold; color: #333;"/>
      <Choices name="scene_content_type" toName="audio_timeline" perRegion="true" choice="single-radio" showInline="true">
        <Choice value="å¯¹è¯é©±åŠ¨/Dialogue_Heavy"/>
        <Choice value="åŠ¨ä½œé©±åŠ¨/Action_Driven"/>
        <Choice value="å†…å¿ƒç‹¬ç™½/Internal_Monologue"/>
        <Choice value="è§†è§‰å™äº‹/Visual_Storytelling"/>
      </Choices>

      <View style="border-top: 1px dashed #eee; margin-top: 20px; padding-top: 15px;">
        <Header value="æƒ…ç»ªæˆ–æ°›å›´" style="font-size: 13px; margin-bottom: 8px; font-weight: bold; color: #333;"/>
        <Choices name="scene_mood_and_atmosphere" toName="audio_timeline" perRegion="true" choice="single-radio" showInline="true">
            <Choice value="æµªæ¼«/Romantic"/>
            <Choice value="æ¸©é¦¨/Warm"/>
            <Choice value="å–œæ‚¦/Joyful"/>
            <Choice value="å¹³é™/Calm"/>
            <Choice value="ç´§å¼ /Tense"/>
            <Choice value="æ‚¬ç–‘/Suspenseful"/>
            <Choice value="æ‚²ä¼¤/Sad"/>
            <Choice value="æ„¤æ€’/Angry"/>
            <Choice value="å†²çª/Confrontational"/>
            <Choice value="ææƒ§/Fearful"/>
            <Choice value="åŽ‹æŠ‘/Oppressive"/>
            <Choice value="è¯¡å¼‚/Eerie"/>
        </Choices>
      </View>

      <Header value="å™äº‹åˆ†æ”¯" style="font-size: 13px; margin-top: 20px; margin-bottom: 8px; font-weight: bold; color: #333;"/>
      <Choices name="narrative_branch_type" toName="audio_timeline" perRegion="true" choice="single-radio" showInline="true">
        <Choice value="æ— /NONE"/>
        <Choice value="ä¸»å¹²æˆ–å¹¶è¡Œåˆ†æ”¯/BRANCH"/>
        <Choice value="åˆ†æ”¯äº¤å‰ç‚¹/INTERSECTION"/>
      </Choices>
      <View visibleWhen="choice-selected" whenTagName="narrative_branch_type" whenChoiceValue="ä¸»å¹²æˆ–å¹¶è¡Œåˆ†æ”¯/BRANCH" style="display: flex; align-items: center; gap: 15px; background: #f1f8ff; padding: 10px; border-radius: 4px; margin-top: 5px;">
        <Text name="branch_label" value="åˆ†æ”¯ID:"/>
        <Number name="branch_id" toName="audio_timeline" perRegion="true" min="0" defaultValue="0"/>
      </View>
      <View visibleWhen="choice-selected" whenTagName="narrative_branch_type" whenChoiceValue="åˆ†æ”¯äº¤å‰ç‚¹/INTERSECTION" style="display: flex; align-items: center; gap: 15px; background: #f1f8ff; padding: 10px; border-radius: 4px; margin-top: 5px;">
        <Text name="intersection_label" value="äº¤å‰ (X, Y):"/>
        <Number name="branch_intersection_x" toName="audio_timeline" perRegion="true" min="0" defaultValue="0"/>
        <Number name="branch_intersection_y" toName="audio_timeline" perRegion="true" min="1" defaultValue="1"/>
      </View>

      <Header value="æ—¶é—´çº¿ç´¢" style="font-size: 13px; margin-top: 20px; margin-bottom: 8px; font-weight: bold; color: #333;"/>
      <Choices name="scene_timeline_marker_type" toName="audio_timeline" perRegion="true" choice="single-radio" showInline="true">
        <Choice value="å¼€å§‹/START"/>
        <Choice value="æ— /NONE"/>
        <Choice value="è¿”å›žçŽ°åœ¨/RETURN_PRESENT"/>
        <Choice value="æ’å…¥è¿‡åŽ»/INSERT_PAST"/>
        <Choice value="é¢„å™/FORWARD"/>
        <Choice value="å¼•ç”¨è¿‡åŽ»/REFERENCE"/>
        <Choice value="è¿‡åŽ»/PAST"/>
        <Choice value="æœªæ¥/FUTURE"/>
        <Choice value="æ— å…³ç”»é¢/UNRELATED"/>
      </Choices>

      <View visibleWhen="choice-selected" whenTagName="scene_timeline_marker_type" whenChoiceValue="æ’å…¥è¿‡åŽ»/INSERT_PAST" style="display: flex; align-items: center; gap: 5px; background: #fff3cd; padding: 10px; border-radius: 4px; flex-wrap: wrap; margin-top: 5px;">
         <Text name="insert_past_label" value="æ’å…¥åæ ‡(ç« /åœº/åº):" style="font-size: 12px; width: 100%; margin-bottom: 5px;"/>
         <Number name="insert_past_chapter" toName="audio_timeline" perRegion="true" min="1" defaultValue="1"/>
         <Number name="insert_past_scene" toName="audio_timeline" perRegion="true" min="1" defaultValue="1"/>
         <Number name="insert_past_inner_index" toName="audio_timeline" perRegion="true" min="1" defaultValue="1"/>
      </View>
      <View visibleWhen="choice-selected" whenTagName="scene_timeline_marker_type" whenChoiceValue="é¢„å™/FORWARD" style="display: flex; align-items: center; gap: 5px; background: #fff3cd; padding: 10px; border-radius: 4px; flex-wrap: wrap; margin-top: 5px;">
        <Text name="forward_label" value="é‡å®šä½(ç« /åœº/åº):" style="font-size: 12px; width: 100%; margin-bottom: 5px;"/>
        <Number name="forward_chapter" toName="audio_timeline" perRegion="true" min="1" defaultValue="1"/>
        <Number name="forward_scene" toName="audio_timeline" perRegion="true" min="1" defaultValue="1"/>
        <Number name="forward_inner_index" toName="audio_timeline" perRegion="true" min="1" defaultValue="1"/>
      </View>
      <View visibleWhen="choice-selected" whenTagName="scene_timeline_marker_type" whenChoiceValue="å¼•ç”¨è¿‡åŽ»/REFERENCE" style="margin-top: 5px;">
        <Text name="reference_label" value="å¼•ç”¨åæ ‡é›†:" style="font-size: 12px; color: #666;"/>
        <TextArea name="reference_scenes" toName="audio_timeline" perRegion="true" placeholder="ä¾‹å¦‚: 1_2 æˆ– 1_2;3_5" rows="1"/>
      </View>
      <View visibleWhen="choice-selected" whenTagName="scene_timeline_marker_type" whenChoiceValue="è¿‡åŽ»/PAST" style="display: flex; align-items: center; gap: 10px; margin-top: 5px;">
        <Text name="past_label_1" value="é¡ºåº:" style="font-size: 12px;"/>
        <Number name="past_inner_index" toName="audio_timeline" perRegion="true" min="1" defaultValue="1"/>
        <Text name="past_label_2" value="æè¿°:" style="font-size: 12px;"/>
        <TextArea name="past_description" toName="audio_timeline" perRegion="true" placeholder="ä¾‹å¦‚: Ten Years Ago" rows="1"/>
      </View>
      <View visibleWhen="choice-selected" whenTagName="scene_timeline_marker_type" whenChoiceValue="æœªæ¥/FUTURE" style="display: flex; align-items: center; gap: 10px; margin-top: 5px;">
        <Text name="future_label_1" value="é¡ºåº:" style="font-size: 12px;"/>
        <Number name="future_inner_index" toName="audio_timeline" perRegion="true" min="1" defaultValue="1"/>
        <Text name="future_label_2" value="æè¿°:" style="font-size: 12px;"/>
        <TextArea name="future_description" toName="audio_timeline" perRegion="true" placeholder="ä¾‹å¦‚: Six Months Later" rows="1"/>
      </View>
      <View visibleWhen="choice-selected" whenTagName="scene_timeline_marker_type" whenChoiceValue="æ— å…³ç”»é¢/UNRELATED" style="margin-top: 5px;">
        <Text name="unrelated_label" value="æè¿°:" style="font-size: 12px;"/>
        <TextArea name="unrelated_description" toName="audio_timeline" perRegion="true" placeholder="ä¾‹å¦‚: In a dream" rows="1"/>
      </View>
    </View>

    <View visibleWhen="region-selected" whenLabelValue="é«˜å…‰/Highlight" style="background: #fff; padding: 20px; border-radius: 8px; border-top: 4px solid #28a745; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px;">
      <Header value="âœ¨ é«˜å…‰æ ‡æ³¨ (HIGHLIGHT)" style="margin-top: 0; color: #28a745; margin-bottom: 15px; font-size: 18px;"/>

      <View style="display: flex; gap: 15px; margin-bottom: 10px;">
          <View style="flex: 1;">
             <Header value="é«˜å…‰ID" style="font-size: 12px; margin-bottom: 5px; color: #666;"/>
             <Number name="highlight_id" toName="audio_timeline" perRegion="true" min="1"/>
          </View>
          <View style="flex: 3;">
             <Header value="ç±»åž‹" style="font-size: 12px; margin-bottom: 5px; color: #666;"/>
             <Choices name="highlight_type" toName="audio_timeline" perRegion="true" choice="single-radio" showInline="true">
                <Choice value="åŠ¨ä½œç‰‡æ®µ"/>
                <Choice value="æƒ…æ„Ÿç‰‡æ®µ"/>
                <Choice value="å¯¹è¯ç‰‡æ®µ"/>
                <Choice value="æ‚¬å¿µç‰‡æ®µ"/>
                <Choice value="ä¿¡æ¯ç‰‡æ®µ"/>
                <Choice value="å¹½é»˜ç‰‡æ®µ"/>
             </Choices>
          </View>
      </View>

      <Header value="æƒ…èŠ‚æè¿°" style="font-size: 13px; margin-top: 15px; margin-bottom: 8px; font-weight: bold; color: #333;"/>
      <TextArea name="highlight_description" toName="audio_timeline" perRegion="true" rows="3" maxSubmissions="1" showSubmitButton="false"/>

      <Header value="æƒ…ç»ª" style="font-size: 13px; margin-top: 15px; margin-bottom: 8px; font-weight: bold; color: #333;"/>
      <Choices name="highlight_mood" toName="audio_timeline" perRegion="true" choice="single-radio" showInline="true">
        <Choice value="ç‡ƒ/Exciting"/>
        <Choice value="çˆ½/Satisfying"/>
        <Choice value="è™/Heart-wrenching"/>
        <Choice value="ç”œ/Sweet"/>
        <Choice value="çˆ†ç¬‘/Hilarious"/>
        <Choice value="ææ€–/Terrifying"/>
        <Choice value="æ²»æ„ˆ/Healing"/>
        <Choice value="æ„ŸåŠ¨/Touching"/>
        <Choice value="ç´§å¼ /Tense"/>
      </Choices>
    </View>

    <View visibleWhen="region-selected" whenLabelValue="å™äº‹çº¿ç´¢/NARRATIVE_CUE" style="background: #fff; padding: 20px; border-radius: 8px; border-top: 4px solid #ffc107; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px;">
      <Header value="ðŸ”‘ å™äº‹çº¿ç´¢ (CUE)" style="margin-top: 0; color: #d39e00; margin-bottom: 15px; font-size: 18px;"/>

      <Header value="çº¿ç´¢ç±»åž‹" style="font-size: 13px; margin-bottom: 8px; font-weight: bold; color: #333;"/>
      <Choices name="narrative_cue_type" toName="audio_timeline" perRegion="true" choice="single-radio" showInline="true">
        <Choice value="å…³é”®ä¿¡æ¯/Key_Information"/>
        <Choice value="ç‰©å“/Object"/>
      </Choices>

      <View visibleWhen="choice-selected" whenTagName="narrative_cue_type" whenChoiceValue="å…³é”®ä¿¡æ¯/Key_Information" style="margin-top: 15px;">
        <Header value="å…³é”®ä¿¡æ¯æè¿°" style="font-size: 12px; margin-bottom: 5px; color: #666;"/>
        <TextArea name="key_information_summary" toName="audio_timeline" perRegion="true" rows="2" showSubmitButton="true" placeholder="æ ¸å¿ƒäº‹å®ž..."/>
      </View>

      <View visibleWhen="choice-selected" whenTagName="narrative_cue_type" whenChoiceValue="ç‰©å“/Object" style="margin-top: 15px;">
        <Header value="ç‰©å“åç§°" style="font-size: 12px; margin-bottom: 5px; color: #666;"/>
        <TextArea name="object_name" toName="audio_timeline" perRegion="true" rows="1" showSubmitButton="true"/>
      </View>
    </View>

  </View>
</View>