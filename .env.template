# 文件路径: .env.template (重构版)

# ----------------------------------------------------------------------------------
# A. 用户及部署配置 (USER & DEPLOYMENT CONFIGURATION)
# 🎯 目标用户: 首次安装用户、运维人员。
# 这些参数需要用户在首次设置时配置，或根据部署环境（如切换 S3）进行调整。
# ----------------------------------------------------------------------------------

# --- A.1 基础公共访问点 (PUBLIC ENDPOINT) ---
# [必填] 这是您的服务器或域名，所有外部访问 URL 将基于此生成。
PUBLIC_ENDPOINT=http://your-server-ip

# [必填] 允许访问 Django 应用的主机名。
DJANGO_ALLOWED_HOSTS=

# --- A.2 初始管理员账号与安全 (INITIAL SUPERUSER & SECURITY) ---
# 密码将由 init_setup.sh 脚本安全提示输入
DJANGO_SUPERUSER_EMAIL=
# 对应的密码：
DJANGO_SUPERUSER_PASSWORD=

# --- A.3 外部服务认证 (EXTERNAL SERVICE AUTH) ---
# 1. Label Studio Token (从Setup_instance中自动获取)
LABEL_STUDIO_ACCESS_TOKEN=

# ----------------------------------------------------------------------------------
# B. 内部组件及服务配置 (COMPONENT & INTERNAL CONFIG)
# 🎯 目标用户: 研发人员、高级运维人员。
# 这些参数通常由系统自动生成或配置，不应随意修改。
# ----------------------------------------------------------------------------------

# --- B.1 Django Core Settings & Security ---
# 密钥将由 init_setup.sh 自动生成/覆盖
DJANGO_SECRET_KEY=
DJANGO_DEBUG=False

# --- B.2 内部服务连接 (INTERNAL SERVICE CONNECTION) ---
# PostgreSQL Database Settings (Docker service name is 'db')
POSTGRES_DB=visify_ssw_db
POSTGRES_USER=visify_ssw_user
# 密码将由 init_setup.sh 自动生成/覆盖
POSTGRES_PASSWORD=

# Celery/Redis Settings (Docker service name is 'redis')
CELERY_BROKER_URL=redis://redis:6379/0

# --- B.3 派生公共 URL (DERIVED PUBLIC URLS) ---
LOCAL_MEDIA_URL_BASE=${PUBLIC_ENDPOINT}:9999

# --- B.4 系统默认值 (SYSTEM DEFAULTS) ---
# 用于 setup_instance.py 创建默认配置
DEFAULT_ENCODING_NAME="H.264 720p (1Mbps UltraFast)"
DEFAULT_FFMPEG_CMD="-c:v libx264 -b:v 1M -vf scale=-2:720 -preset ultrafast"